<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documents of Contemporary Art Series at Clark Libraries</title>
   <style>
        /* Base Styles for the Showcase Container */
        .resources-showcase {
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333F48;
            background: #ffffff; /* White */
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            min-height: 100vh;
            padding: 1rem;
        }

        .resources-showcase *,
        .resources-showcase *::before,
        .resources-showcase *::after {
            box-sizing: border-box;
        }

        .resources-showcase::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            border-radius: 20px;
            pointer-events: none;
        }

        .resources-showcase .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 1rem;
            position: relative;
            z-index: 1;
        }

        /* Header Styles */
        .resources-showcase .header {
            text-align: center;
            margin-bottom: 3rem;
            color: #00629B;
            position: relative;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            backdrop-filter: blur(15px);
            box-shadow: 0 10px 30px rgba(0, 40, 85, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .resources-showcase .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #00629B 0%, #00629B 50%, #FF6A13 100%);
            border-radius: 20px 20px 0 0;
        }

        .resources-showcase .header h1 {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            font-size: clamp(2rem, 5vw, 3.5rem);
            margin: 0 0 1rem 0;
            text-shadow: 2px 2px 4px rgba(0, 40, 85, 0.1);
            font-weight: 600;
            color: #00629B;
            letter-spacing: -0.02em;
        }

        .resources-showcase .header p {
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            font-weight: 300;
            color: #4E87A0;
        }

        /* Controls Section */
        .resources-showcase .controls {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            box-shadow: 0 5px 20px rgba(0, 40, 85, 0.1);
        }

        .resources-showcase .controls-row {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .resources-showcase .search-container {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .resources-showcase .search-container label {
            font-weight: 600;
            color: #00629B;
            font-size: 1.3rem;
            margin: 0;
        }

        .resources-showcase .search-input {
            padding: 0.75rem 1rem;
            border: 2px solid #00629B;
            border-radius: 8px;
            font-size: 1.3rem;
            background: white;
            color: #333F48;
            transition: border-color 0.3s ease;
            margin: 0;
        }

        .resources-showcase .search-input:focus {
            outline: 3px solid #FF6A13;
            outline-offset: 2px;
            border-color: #FF6A13;
        }

        .resources-showcase .sort-controls {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .resources-showcase .sort-controls label {
            font-weight: 600;
            color: #00629B;
            font-size: 1.3rem;
            margin: 0;
        }

        .resources-showcase .sort-select {
            padding: 0.3rem .5rem;
            border: none;
            border-radius: 4px;
            font-size: 1.0rem;
            background: transparent;
            color: #333F48;
            cursor: pointer;
			font-weight: 500;
            transition: border-color 0.3s ease;
            margin: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.25rem;
        }

        .resources-showcase .sort-select:focus {
            outline: 3px solid #FF6A13;
            outline-offset: 2px;
            border-color: #FF6A13;
        }

        /* View Toggle Controls */
        .resources-showcase .view-controls {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .resources-showcase .view-controls label {
            font-weight: 600;
            color: #00629B;
            font-size: 1.3rem;
            margin: 0;
        }

        .resources-showcase .view-toggle {
            display: flex;
            background: rgba(0, 98, 155, 0.1);
            border-radius: 8px;
            padding: 4px;
            border: 2px solid #00629B;
        }

        .resources-showcase .view-toggle button {
            flex: 1;
            padding: 0.75rem 1rem;
            border: none;
            background: transparent;
            color: #00629B;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .resources-showcase .view-toggle button.active {
            background: #00629B;
            color: white;
            box-shadow: 0 2px 5px rgba(0, 40, 85, 0.2);
        }

        .resources-showcase .view-toggle button:hover:not(.active) {
            background: rgba(0, 98, 155, 0.1);
        }

        .resources-showcase .view-toggle button:focus {
            outline: 3px solid #FF6A13;
            outline-offset: 2px;
        }

        /* View icons using CSS */
        .resources-showcase .view-toggle button::before {
            content: '';
            width: 16px;
            height: 16px;
            background: currentColor;
            display: inline-block;
        }

        .resources-showcase .view-toggle button[data-view="grid"]::before {
            mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='3' width='7' height='7'/%3E%3Crect x='14' y='3' width='7' height='7'/%3E%3Crect x='14' y='14' width='7' height='7'/%3E%3Crect x='3' y='14' width='7' height='7'/%3E%3C/svg%3E") no-repeat center;
            mask-size: contain;
        }

        .resources-showcase .view-toggle button[data-view="list"]::before {
            mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='8' y1='6' x2='21' y2='6'/%3E%3Cline x1='8' y1='12' x2='21' y2='12'/%3E%3Cline x1='8' y1='18' x2='21' y2='18'/%3E%3Cline x1='3' y1='6' x2='3.01' y2='6'/%3E%3Cline x1='3' y1='12' x2='3.01' y2='12'/%3E%3Cline x1='3' y1='18' x2='3.01' y2='18'/%3E%3C/svg%3E") no-repeat center;
            mask-size: contain;
        }

        /* Info, Loading, Error, No Results */
        .resources-showcase .results-info {
            text-align: center;
            margin-bottom: 1rem;
            color: #00629B;
            font-weight: 500;
            background: rgba(255, 255, 255, 0.9);
            padding: 1rem;
            border-radius: 10px;
        }

        .resources-showcase .loading {
            text-align: center;
            padding: 3rem;
            color: #00629B;
            font-size: 1.2rem;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
        }

        .resources-showcase .error {
            text-align: center;
            padding: 2rem;
            color: #d32f2f;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            border: 2px solid #d32f2f;
        }

        .resources-showcase .no-results {
            text-align: center;
            padding: 3rem;
            color: #00629B;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            font-size: 1.1rem;
        }

        /* Grid View Specific Styles (Flip Cards) */
        .resources-showcase .resources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
            perspective: 1000px;
        }

        .resources-showcase .magazine-card {
            background: rgba(255, 255, 255, 0.98);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 40, 85, 0.15);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            height: 0;
            padding-bottom: 133.33%; /* 3:4 aspect ratio */
        }

        .resources-showcase .magazine-card:hover,
        .resources-showcase .magazine-card:focus-within {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 40, 85, 0.25);
        }

        .resources-showcase .magazine-card:focus-within {
            outline: 3px solid #FF6A13;
            outline-offset: 2px;
        }

        /* Flip Card Inner Container */
        .resources-showcase .flip-card-inner {
            position: absolute;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
            border-radius: 15px;
        }

        .resources-showcase .magazine-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }

        /* Front and Back of the Card */
        .resources-showcase .flip-card-front,
        .resources-showcase .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            padding: 0;
            background: rgba(255, 255, 255, 0.98);
        }

        .resources-showcase .flip-card-front {
            z-index: 2;
        }

        .resources-showcase .flip-card-back {
            transform: rotateY(180deg);
            padding: 1.2rem;
            text-align: left;
            justify-content: flex-start;
            gap: 0.5rem;
        }

        /* Front Content (Image and Overlay) */
        .resources-showcase .card-image {
            width: 70%;
            height: 70%;
            object-fit: cover;
            position: absolute;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 0;
        }

        .resources-showcase .front-content-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.5) 50%, transparent 100%);
            color: white;
            padding: 1rem;
            text-align: center;
            z-index: 1;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            align-items: center;
            min-height: 100px;
        }

        .resources-showcase .front-content-overlay .card-title {
            color: white;
            font-size: 1.4rem;
            margin-bottom: 0.2rem;
            line-height: 1.2;
        }

        .resources-showcase .front-content-overlay .card-author {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            margin-bottom: 0.8rem;
        }

        /* Flip Buttons */
        .resources-showcase .flip-button,
        .resources-showcase .flip-back-button {
            background: #FF6A13;
            color: white;
            padding: 0.4rem 0.6rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 550;
            font-size: 1.00rem;
            transition: background 0.3s ease, transform 0.3s ease;
            margin-top: auto;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .resources-showcase .flip-back-button {
            margin-top: 1rem;
            align-self: center;
        }

        .resources-showcase .flip-button:hover,
        .resources-showcase .flip-back-button:hover {
            background: #e05e10;
            transform: translateY(-1px);
        }

        .resources-showcase .flip-button:focus,
        .resources-showcase .flip-back-button:focus {
            outline: 3px solid #00629B;
            outline-offset: 2px;
        }

        /* Back Content Styling */
        .resources-showcase .flip-card-back p {
            margin: 0.1rem 0;
            font-size: 1.0rem;
            color: #333F48;
            width: 100%;
            word-wrap: break-word;
        }

        .resources-showcase .flip-card-back .card-subject {
            margin-top: 0.8rem;
            margin-bottom: 0.8rem;
            background: rgba(107, 187, 174, 0.1);
            padding: 0.4rem 0.8rem;
            border-radius: 20px;
            font-size: 1.0rem;
            color: #00629B;
            font-weight: 500;
            border-left: 4px solid #6BBBAE;
            align-self: flex-start;
        }

        .resources-showcase .flip-card-back .card-actions {
            display: flex;
            flex-direction: column;
            gap: 0.15rem;
            width: 100%;
            margin-top: 0.8rem;
            border-top: none;
            padding-top: 0;
        }

        .resources-showcase .flip-card-back .card-link,
        .resources-showcase .flip-card-back .deeplink-button {
            font-size: 1.0rem;
            padding: 0.1rem 0.2rem;
            width: 100%;
        }

        /* Card Action Buttons */
        .resources-showcase .card-link,
        .resources-showcase .deeplink-button {
            background: #00629B;
            color: white;
            padding: 0.6rem 1rem;
            border: none;
            border-radius: 5px;
            text-decoration: none;
            display: inline-block;
            font-weight: 600;
            font-size: 1rem;
            transition: background 0.3s ease, transform 0.3s ease;
            cursor: pointer;
            text-align: center;
            margin-bottom: 0.5rem;
        }

        .resources-showcase .deeplink-button {
            background: #6BBBAE;
        }

        .resources-showcase .card-link:hover,
        .resources-showcase .deeplink-button:hover {
            background: #004a7a;
            transform: translateY(-1px);
        }

        .resources-showcase .deeplink-button:hover {
            background: #5aa69a;
        }

        .resources-showcase .card-link:focus,
        .resources-showcase .deeplink-button:focus {
            outline: 3px solid #FF6A13;
            outline-offset: 2px;
        }

        /* Footer Styles */
        .resources-showcase .footer {
            text-align: center;
            color: #00629B;
            margin-top: 3rem;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            backdrop-filter: blur(15px);
            box-shadow: 0 10px 30px rgba(0, 40, 85, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .resources-showcase .footer h2 {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            font-size: 1.6rem;
            margin: 0 0 1rem 0;
            font-weight: 600;
            color: #00629B;
        }

        .resources-showcase .footer p {
            font-size: 1rem;
            opacity: 0.9;
            margin: 0;
            font-weight: 300;
            color: #4E87A0;
        }

        /* Screen reader only content */
        .resources-showcase .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Accessibility: Hide content not currently visible to screen readers */
        .resources-showcase .flip-card-front[aria-hidden="true"],
        .resources-showcase .flip-card-back[aria-hidden="true"] {
            position: absolute;
            width: 1px;
            height: 1px;
            margin: -1px;
            padding: 0;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }

        /* List View Specific Styles - Driver's License Layout */
        .resources-showcase.list-view .resources-grid {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .resources-showcase.list-view .magazine-card {
            height: auto;
            padding-bottom: 0;
            display: flex;
            flex-direction: row;
            align-items: stretch;
            min-height: 160px;
            max-width: 100%;
        }

        
        /* List View Specific Styles - 3-Column Layout */
        .resources-showcase.list-view .flip-card-inner {
            transform: none !important;
            transform-style: flat;
            transition: none;
            position: static;
            display: flex;
            flex-direction: row;
            align-items: stretch;
            width: 100%;
        }

		/* Hide card-actions in the second column (flip-card-back) for list view */
        .resources-showcase.list-view .flip-card-back .card-actions {
            display: none;
        }
		
        /* Ensure the third column card-actions are still visible */
        .resources-showcase.list-view .flip-card-inner > .card-actions {
            width: 200px;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            padding: 1rem;
            margin-top: 0;
            border-top: none;
            padding-top: 1rem;
            justify-content: flex-start;
            background: rgba(255, 255, 255, 0.98);
        }

        .resources-showcase.list-view .flip-card-front,
        .resources-showcase.list-view .flip-card-back {
            position: static;
            backface-visibility: visible;
            display: flex;
            flex-direction: column;
            border-radius: 0;
            overflow: visible;
            justify-content: flex-start;
            align-items: flex-start;
            padding: 1rem;
            gap: 0.5rem;
        }

        /* Image Column */
        .resources-showcase.list-view .flip-card-front {
            width: 160px;
            flex-shrink: 0;
            padding: 1rem;
            border-right: 2px solid #00629B;
			display: flex;
			flex-direction: column;
            justify-content: flex-start;
            align-items: flex-start;
            background: rgba(255, 255, 255, 0.98);
			overflow: hidden;
			position: static;
        }

        .resources-showcase.list-view .card-image {
            width: 100%;
            height: auto;
			max-height: 140px;
            object-fit: contain;
			object-position: left center;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        /* Hide the overlay content in list view since we're restructuring */
        .resources-showcase.list-view .front-content-overlay {
            display: none;
        }

        /* Column 2: Info */
        .resources-showcase.list-view .flip-card-back {
            flex: 1;
            transform: none;
			position: static;
			backface-visibility: visible;
            padding: 1rem;    
            border-right: 2px solid #00629B;
            background: rgba(255, 255, 255, 0.98);
			display: flex;
			flex-direction: column;
			justify-content: flex-start;
			align-items: flex-start;
        }

        .resources-showcase.list-view .card-info {
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
            flex: 1;
        }

        .resources-showcase.list-view .card-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #00629B;
            margin: 0 0 0.3rem 0;
            line-height: 1.3;
        }

        .resources-showcase.list-view .card-author,
        .resources-showcase.list-view .card-publisher,
        .resources-showcase.list-view .card-year,
        .resources-showcase.list-view .card-location {
            font-size: 1rem;
            color: #333F48;
            margin: 0.1rem 0;
        }

        .resources-showcase.list-view .card-subject {
            background: rgba(107, 187, 174, 0.1);
            padding: 0.3rem 0.6rem;
            border-radius: 15px;
            font-size: 0.9rem;
            color: #00629B;
            font-weight: 500;
            border-left: 3px solid #6BBBAE;
            align-self: flex-start;
            margin: 0.5rem 0;
        }

        /* Action Buttons Column (Column 3) */
        .resources-showcase.list-view .card-actions {
            width: 220px;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            padding: 1rem;
            margin-top: 0;
            border-top: none;
            padding-top: 1rem;
            justify-content: flex-start;
            background: rgba(255, 255, 255, 0.98);
        }

        .resources-showcase.list-view .card-link,
        .resources-showcase.list-view .deeplink-button {
            width: 100%;
            font-size: 0.9rem;
            padding: 0.5rem 0.8rem;
            text-align: center;
            margin-bottom: 0.3rem;
        }

        /* Hide flip buttons in list view */
        .resources-showcase.list-view .flip-button,
        .resources-showcase.list-view .flip-back-button {
            display: none;
        }

        /* Responsive design - Mobile first approach */
        @media (max-width: 480px) {
            .resources-showcase .resources-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .resources-showcase .container {
                padding: 0.5rem;
            }
            
            .resources-showcase .header {
                padding: 1rem;
                margin-bottom: 1.5rem;
            }
            
            .resources-showcase .controls {
                padding: 1rem;
            }
            
            .resources-showcase .magazine-card {
                padding-bottom: 120%;
            }

            /* Mobile list view adjustments */
            .resources-showcase.list-view .magazine-card {
                flex-direction: column;
                min-height: auto;
            }

            .resources-showcase.list-view .flip-card-inner {
                flex-direction: column;
            }

            .resources-showcase.list-view .flip-card-front {
                width: 100%;
				height: 150px;
                border-bottom: 2px solid #00629B;
                border-right: none; /* Remove right border on mobile */
            }

            .resources-showcase.list-view .card-image {
                height: 100%;
                width: auto;
				max-width: 100px;
				max-height: 120px;
				object-fit: contain;
            }

            .resources-showcase.list-view .flip-card-back {
                border-right: none;
                border-bottom: 2px solid #00629B;
            }

            .resources-showcase.list-view .card-actions {
                width: 100%;
                border-right: none;
            }
        }

        @media (min-width: 481px) and (max-width: 768px) {
            .resources-showcase .resources-grid {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
                gap: 1.25rem;
            }
            
            .resources-showcase .controls-row {
                flex-direction: row;
                gap: 1rem;
            }

            .resources-showcase .search-container {
                flex: 2;
            }

            .resources-showcase .sort-controls,
            .resources-showcase .view-controls {
                flex: 1;
            }

            /* Tablet list view adjustments */
            .resources-showcase.list-view .card-actions {
                width: 200px;
            }
        }

        @media (min-width: 769px) and (max-width: 1024px) {
            .resources-showcase .resources-grid {
                grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
                gap: 1.5rem;
            }
            
            .resources-showcase .controls-row {
                flex-direction: row;
                align-items: end;
            }
            
            .resources-showcase .search-container {
                flex: 2;
            }
            
            .resources-showcase .sort-controls,
            .resources-showcase .view-controls {
                flex: 1;
            }
        }

        @media (min-width: 1025px) {
            .resources-showcase .resources-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 2rem;
            }
            
            .resources-showcase .controls-row {
                flex-direction: row;
                align-items: end;
            }
            
            .resources-showcase .search-container {
                flex: 2;
            }
            
            .resources-showcase .sort-controls,
            .resources-showcase .view-controls {
                flex: 1;
            }
        }

        @media (min-width: 1400px) {
            .resources-showcase .resources-grid {
                grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
                gap: 2.5rem;
            }
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .resources-showcase {
                background: #000;
            }
            
            .resources-showcase .header, 
            .resources-showcase .controls, 
            .resources-showcase .magazine-card, 
            .resources-showcase .footer,
            .resources-showcase .flip-card-front,
            .resources-showcase .flip-card-back {
                background: #fff;
                border: 2px solid #000;
            }
            
            .resources-showcase .card-link,
            .resources-showcase .flip-button,
            .resources-showcase .flip-back-button {
                background: #000;
                border: 2px solid #000;
            }
            
            .resources-showcase .deeplink-button {
                background: #fff;
                border: 2px solid #000;
                color: #000;
            }
        }
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            .resources-showcase * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            .resources-showcase .magazine-card:hover,
            .resources-showcase .magazine-card:focus-within {
                transform: none;
            }
            
            .resources-showcase .card-link:hover,
            .resources-showcase .deeplink-button:hover,
            .resources-showcase .flip-button:hover,
            .resources-showcase .flip-back-button:hover {
                transform: none;
            }

            .resources-showcase .magazine-card.flipped .flip-card-inner {
                transform: none; /* No smooth flip, just instant change */
            }
        }

        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
            .resources-showcase {
                background: linear-gradient(135deg, #001122 0%, #003366 50%, #2c3e50 100%);
            }
            
            .resources-showcase .header, 
            .resources-showcase .controls, 
            .resources-showcase .magazine-card, 
            .resources-showcase .footer, 
            .resources-showcase .results-info, 
            .resources-showcase .loading, 
            .resources-showcase .no-results,
            .resources-showcase .flip-card-front,
            .resources-showcase .flip-card-back {
                background: rgba(44, 62, 80, 0.95);
                color: #ecf0f1;
            }
            
            .resources-showcase .header h1, 
            .resources-showcase .card-title, 
            .resources-showcase .footer h2 {
                color: #3498db;
            }
            
            .resources-showcase .search-input, 
            .resources-showcase .sort-select {
                background: #34495e;
                color: #ecf0f1;
                border-color: #3498db;
            }

            .resources-showcase .front-content-overlay .card-title {
                color: white; /* Keep white on dark overlay */
            }

            .resources-showcase .front-content-overlay .card-author {
                color: rgba(255, 255, 255, 0.9);
            }

            .resources-showcase .flip-card-back p {
                color: #ecf0f1;
            }
        }
		</style>
    </head>
<body>
    <div class="resources-showcase">
        <div class="container">
            <header class="header">
                <h1>Documents of Contemporary Art Series at Clark Libraries</h1>
                <p>Explore this series on Contemporary Art that is a collaboration between MIT Press and Whitechapel Gallery since 2006.</p>
            </header>

            <div class="controls" role="region" aria-label="Search and sort controls">
                <div class="controls-row">
                    <div class="search-container">
                        <label for="search-input">Search titles by keyword:</label>
                        <input 
                            type="text" 
                            id="search-input" 
                            class="search-input"
                            placeholder="Type to search..."
                            autocomplete="off"
                            aria-describedby="search-help"
                        >
                        <div id="search-help" class="sr-only">Search will filter titles as you type by title, author, publisher, subject, or location.</div>
                    </div>
                
                    <div class="view-controls">
                        <label for="view-toggle">View:</label>
                        <div class="view-toggle" role="radiogroup" aria-label="Choose view type">
                            <button 
                                type="button" 
                                class="active" 
                                data-view="grid"
                                role="radio"
                                aria-checked="true"
                                aria-label="Grid view">
                                Grid
                            </button>
                            <button 
                                type="button" 
                                data-view="list"
                                role="radio"
                                aria-checked="false"
                                aria-label="List view">
                                List
                            </button>
                        </div>
                    </div>

                    <div class="sort-controls">
                        <label for="sort-select">Sort by:</label>
                        <select id="sort-select" class="sort-select">
                            <option value="title">Title (A-Z)</option>
                            <option value="author">Author (A-Z)</option>
                            <option value="publisher">Publisher (A-Z)</option>
                            <option value="year">Year (Newest First)</option>
                        </select>
                    </div>
                </div>
            </div>

            <div id="loading" class="loading" aria-live="polite">
                Loading leisure reading titles...
            </div>

            <div id="error" class="error" style="display: none;" role="alert">
                Error loading leisure reading titles. Please try again later.
            </div>

            <div id="results-info" class="results-info" style="display: none;" aria-live="polite">
                <!-- Results count will be inserted here -->
            </div>

            <main>
                <div class="resources-grid" role="list" id="resources-container" aria-label="Leisure reading collection">
                    <!-- Magazine cards will be dynamically generated here -->
                </div>
                
                <div id="no-results" class="no-results" style="display: none;" role="status">
                    No titles found matching your search criteria.
                </div>
            </main>

            <footer class="footer">
                <h2>Need assistance? Reach out to us:</h2>
                <p class="text-lg text-gray-700 mb-6">
                    <a href="https://library.clark.edu/content/ask-librarian" class="card-link" target="_blank" rel="noopener noreferrer">
                        Contact Us
                    </a>
                </p>
                <p class="text-sm text-gray-500 mt-4">Opens in a new tab. For more information about Clark Libraries, visit the website at http://library.clark.edu/</p>
            </footer>
        </div>
    </div>

    <script>
        // Global variables
        let magazinesData = [];
        let filteredMagazines = [];
        let currentSearch = '';
        let currentSort = 'title'; // Default sort by title
        let currentView = 'grid';

        // DOM elements
        const loadingEl = document.getElementById('loading');
        const errorEl = document.getElementById('error');
        const resultsInfoEl = document.getElementById('results-info');
        const magazinesContainer = document.getElementById('resources-container');
        const noResultsEl = document.getElementById('no-results');
        const searchInput = document.getElementById('search-input');
        const sortSelect = document.getElementById('sort-select');
        const viewToggleButtons = document.querySelectorAll('.view-toggle button');
        const mainShowcase = document.querySelector('.resources-showcase'); // Reference to the main container

        // Fetch magazines data
        async function fetchMagazines() {
            try {
                loadingEl.style.display = 'block';
                errorEl.style.display = 'none';
                
                // Fetch data from the provided URL
                const response = await fetch('https://raw.githubusercontent.com/ClarkLibraries/Marketing/refs/heads/main/Library/DocumentsInContemporaryArtSeries.json');
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                magazinesData = await response.json();
                // Initial sort by title (A-Z)
                magazinesData.sort((a, b) => (a.title || '').localeCompare(b.title || ''));
                filteredMagazines = [...magazinesData]; // Initialize filtered data

                loadingEl.style.display = 'none';
                updateResultsInfo();
                renderMagazines();
                
            } catch (error) {
                console.error('Error fetching leisure reading titles:', error);
                loadingEl.style.display = 'none';
                errorEl.style.display = 'block';
                errorEl.textContent = 'Error loading leisure reading titles. Please try again later.';
            }
        }

        // Filter magazines based on search term
        function filterMagazines(searchTerm) {
            if (!searchTerm) {
                filteredMagazines = [...magazinesData];
            } else {
                const term = searchTerm.toLowerCase();
                filteredMagazines = magazinesData.filter(item => {
                    return (
                        item.title?.toLowerCase().includes(term) ||
                        item.author?.toLowerCase().includes(term) ||
                        item.publisher?.toLowerCase().includes(term) ||
                        item.subject?.toLowerCase().includes(term) ||
                        item.location?.toLowerCase().includes(term)
                    );
                });
            }
            sortMagazines(currentSort); // Re-sort after filtering to maintain order
            updateResultsInfo();
            renderMagazines();
        }

        // Sort magazines based on selected option
        function sortMagazines(sortBy) {
            currentSort = sortBy; // Update current sort
            switch (sortBy) {
                case 'title':
                    filteredMagazines.sort((a, b) => (a.title || '').localeCompare(b.title || ''));
                    break;
                case 'author':
                    filteredMagazines.sort((a, b) => (a.author || '').localeCompare(b.author || ''));
                    break;
                case 'publisher':
                    filteredMagazines.sort((a, b) => (a.publisher || '').localeCompare(b.publisher || ''));
                    break;
                case 'year': // Sort by year, newest first (descending)
                    filteredMagazines.sort((a, b) => (parseInt(b.year) || 0) - (parseInt(a.year) || 0));
                    break;
                default:
                    // If an unknown sort option is selected, revert to default title sort
                    filteredMagazines.sort((a, b) => (a.title || '').localeCompare(b.title || ''));
                    break;
            }
            renderMagazines();
        }

        // Update results info display
        function updateResultsInfo() {
            const count = filteredMagazines.length;
            const total = magazinesData.length;
            
            if (currentSearch) {
                resultsInfoEl.textContent = `Showing ${count} of ${total} titles for "${currentSearch}"`;
            } else {
                resultsInfoEl.textContent = `Showing all ${total} titles`;
            }
            
            resultsInfoEl.style.display = 'block';
            noResultsEl.style.display = count === 0 ? 'block' : 'none';
        }

// Helper to create optional action buttons dynamically
        function createActionButtons(item) {
            let buttonsHtml = '';
            // Check for articlesaboutthisresource (lowercase in JSON)
            const articlesAbout = item.articlesaboutthisresource || item.articlesAboutThisResource;
            if (articlesAbout && articlesAbout !== '#' && articlesAbout.trim() !== '') {
                buttonsHtml += `<a href="${articlesAbout}" class="deeplink-button" target="_blank" rel="noopener noreferrer">Articles About This Resource</a>`;
            }
            // Check for relatedarticles (lowercase in JSON)
            const relatedArticles = item.relatedarticles || item.relatedArticles;
            if (relatedArticles && relatedArticles !== '#' && relatedArticles.trim() !== '') {
                buttonsHtml += `<a href="${relatedArticles}" class="deeplink-button" target="_blank" rel="noopener noreferrer">Related Articles</a>`;
            }
            // Check for youmayalsolike (lowercase in JSON)
            const youMayLike = item.youmayalsolike || item.youMayAlsoLike;
            if (youMayLike && youMayLike !== '#' && youMayLike.trim() !== '') {
                buttonsHtml += `<a href="${youMayLike}" class="deeplink-button" target="_blank" rel="noopener noreferrer">You May Also Like</a>`;
            }
            return buttonsHtml;
        }

        // Create individual magazine card HTML
// Create individual magazine card HTML
function createMagazineCard(item, index) {
    const {
        title = 'Unknown Title',
        author = 'Unknown Author',
        publisher = 'Unknown Publisher',
        year = 'Unknown Year',
        permalink = '#',
        coverimage = 'https://placehold.co/300x400/cccccc/333333?text=No+Image', // Placeholder image
        subject = 'General',
        location = 'Unknown Location'
    } = item;

    // Create a unique ID for aria-controls
    const uniqueId = `card-${index}-${title.replace(/[^a-zA-Z0-9]/g, '').toLowerCase().substring(0, 15)}`;

    const actionButtons = createActionButtons(item);

    return `
<article class="magazine-card" role="listitem">
    <div class="flip-card-inner">
        <div class="flip-card-front">
            <img 
                src="${coverimage}" 
                alt="Cover image for ${title}"
                class="card-image"
                loading="lazy"
                onerror="this.src='https://placehold.co/300x400/cccccc/333333?text=No+Image'"
            >
            <div class="front-content-overlay">
                <h3 class="card-title">${title}</h3>
                <p class="card-author">by ${author}</p>
                <button class="flip-button" aria-expanded="false" aria-controls="${uniqueId}">
                    Learn More
                </button>
            </div>
        </div>
        <div class="flip-card-back">
            <div class="card-info">
                <h3 class="card-title">${title}</h3>
                <p class="card-author"><strong>Author:</strong> ${author}</p>
                <p class="card-publisher"><strong>Publisher:</strong> ${publisher}</p>
                <p class="card-year"><strong>Year:</strong> ${year}</p>
                <p class="card-location"><strong>Location:</strong> ${location}</p>
            </div>
            <div class="card-actions">
                <a href="${permalink}" class="card-link">View Resource</a>
                ${actionButtons}
            </div>
            <button class="flip-back-button">Back</button>
        </div>
        <div class="card-actions">
            <a href="${permalink}" class="card-link">View Resource</a>
            ${actionButtons}
        </div>
    </div>
</article>
    `;
}

        // Render all filtered magazines to the DOM
        function renderMagazines() {
            magazinesContainer.innerHTML = ''; // Clear previous results
            
            // Add/remove list-view class on the main container
            if (currentView === 'list') {
                mainShowcase.classList.add('list-view');
            } else {
                mainShowcase.classList.remove('list-view');
            }

            if (filteredMagazines.length === 0) {
                noResultsEl.style.display = 'block';
                magazinesContainer.style.display = 'none';
            } else {
                noResultsEl.style.display = 'none';
                // magazinesContainer display property is handled by CSS based on list-view class
                magazinesContainer.style.display = ''; 
                
                filteredMagazines.forEach((magazine, index) => { // Pass index for unique ID
                    magazinesContainer.insertAdjacentHTML('beforeend', createMagazineCard(magazine, index));
                });
            }
        }

        // Event Listeners
        searchInput.addEventListener('input', (event) => {
            currentSearch = event.target.value;
            filterMagazines(currentSearch);
        });

        sortSelect.addEventListener('change', (event) => {
            sortMagazines(event.target.value);
        });

        viewToggleButtons.forEach(button => {
            button.addEventListener('click', (event) => {
                // Remove active class from all buttons and set aria-checked to false
                viewToggleButtons.forEach(btn => {
                    btn.classList.remove('active');
                    btn.setAttribute('aria-checked', 'false');
                });
                // Add active class to the clicked button and set aria-checked to true
                event.target.classList.add('active');
                event.target.setAttribute('aria-checked', 'true');
                currentView = event.target.dataset.view; // Update current view
                renderMagazines(); // Re-render to apply new view styles
            });
        });

        // Event listener for flip buttons (delegated to container)
        magazinesContainer.addEventListener('click', (event) => {
            const flipButton = event.target.closest('.flip-button');
            const flipBackButton = event.target.closest('.flip-back-button');

            if (flipButton) {
                const card = flipButton.closest('.magazine-card');
                const backContent = card.querySelector('.flip-card-back');
                const frontContent = card.querySelector('.flip-card-front');

                card.classList.add('flipped');
                flipButton.setAttribute('aria-expanded', 'true');
                frontContent.setAttribute('aria-hidden', 'true');
                backContent.setAttribute('aria-hidden', 'false');

                // Move focus to the first interactive element on the back
                const firstInteractiveElement = backContent.querySelector('a, button');
                if (firstInteractiveElement) {
                    firstInteractiveElement.focus();
                }
            } else if (flipBackButton) {
                const card = flipBackButton.closest('.magazine-card');
                const backContent = card.querySelector('.flip-card-back');
                const frontContent = card.querySelector('.flip-card-front');
                const flipButtonOnFront = card.querySelector('.flip-button');

                card.classList.remove('flipped');
                if (flipButtonOnFront) {
                    flipButtonOnFront.setAttribute('aria-expanded', 'false');
                    flipButtonOnFront.focus(); // Return focus to the flip button on the front
                }
                frontContent.setAttribute('aria-hidden', 'false');
                backContent.setAttribute('aria-hidden', 'true');
            }
        });

        // Initial fetch and render when the page loads
        document.addEventListener('DOMContentLoaded', fetchMagazines);
    </script>
</body>
</html>
